# CCTV Face Detection System Configuration

system:
  mode: "development"  # development, testing, production
  debug: true
  gpu_enabled: true
  max_cameras: 8
  log_level: "INFO"
  temp_dir: "./temp"
  models_dir: "./models"

# Face Detection Configuration
detection:
  engine: "mtcnn"  # mtcnn, opencv, yolo
  confidence_threshold: 0.9
  min_face_size: 40
  scale_factor: 0.709
  steps_threshold: [0.6, 0.7, 0.7]
  nms_threshold: 0.7
  margin: 44
  keep_all: true

# Face Recognition Configuration
recognition:
  engine: "facenet"  # facenet, arcface, deepface
  model_name: "vggface2"
  similarity_threshold: 0.4
  embedding_size: 128
  device: "cuda"  # cuda, cpu, mps
  batch_size: 32

# Database Configuration
database:
  type: "postgresql"  # postgresql, mysql, sqlite
  host: "localhost"
  port: 5432
  name: "cctv_surveillance"
  user: "postgres"
  password: "password"
  pool_size: 20
  max_overflow: 30
  pool_timeout: 30
  pool_recycle: 3600

# Redis Configuration (for caching)
redis:
  host: "localhost"
  port: 6379
  db: 0
  password: null
  socket_timeout: 5
  socket_connect_timeout: 5
  max_connections: 100

# Camera Configuration
cameras:
  default_fps: 25
  buffer_size: 1
  reconnect_interval: 5
  timeout: 10
  sources:
    - name: "Camera_01"
      url: "rtsp://admin:password@192.168.1.100/stream1"
      location: "Main Entrance"
      active: true
    - name: "Camera_02"
      url: "rtsp://admin:password@192.168.1.101/stream1"
      location: "Parking Lot"
      active: true

# Alert Configuration
alerting:
  enabled: true
  email:
    enabled: true
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: "alerts@yourdomain.com"
    password: "your_app_password"
    recipients:
      - "security@yourdomain.com"
      - "admin@yourdomain.com"
  sms:
    enabled: false
    twilio_sid: "your_twilio_sid"
    twilio_token: "your_twilio_token"
    from_number: "+1234567890"
    recipients:
      - "+1987654321"
  webhook:
    enabled: false
    url: "https://your-webhook.com/alerts"
    headers:
      Authorization: "Bearer your_token"

# Web Interface Configuration
web:
  host: "0.0.0.0"
  port: 8000
  debug: true
  reload: true
  workers: 1
  cors_origins:
    - "http://localhost:3000"
    - "http://localhost:8080"

# API Configuration
api:
  title: "CCTV Face Detection API"
  description: "Criminal identification system API"
  version: "1.0.0"
  rate_limiting:
    enabled: true
    calls: 100
    period: 60  # seconds
  authentication:
    enabled: true
    secret_key: "your-secret-key-change-this"
    algorithm: "HS256"
    access_token_expire_minutes: 30

# Performance Configuration
performance:
  thread_pool_size: 4
  max_queue_size: 100
  frame_skip: 2  # Process every nth frame
  resize_factor: 1.0
  optimization_level: 2  # 0=none, 1=basic, 2=aggressive

# Logging Configuration
logging:
  level: "INFO"
  format: "{time:YYYY-MM-DD HH:mm:ss} | {level: <8} | {name}:{function}:{line} - {message}"
  rotation: "10 MB"
  retention: "1 month"
  file: "logs/cctv_system.log"
  console: true

# Storage Configuration
storage:
  detected_faces_dir: "./data/detected_faces"
  criminal_photos_dir: "./data/criminal_photos"
  logs_dir: "./logs"
  temp_dir: "./temp"
  backup_dir: "./backups"
  max_storage_gb: 100
  cleanup_interval_hours: 24

# Security Configuration
security:
  encryption_key: "your-encryption-key-32-bytes-long"
  password_salt_rounds: 12
  session_timeout_minutes: 60
  max_failed_attempts: 5
  lockout_duration_minutes: 15

# Monitoring Configuration
monitoring:
  metrics_enabled: true
  health_check_interval: 30
  prometheus:
    enabled: false
    port: 9090
  grafana:
    enabled: false
    url: "http://localhost:3000"